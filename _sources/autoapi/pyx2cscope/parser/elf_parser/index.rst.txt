:py:mod:`pyx2cscope.parser.elf_parser`
======================================

.. py:module:: pyx2cscope.parser.elf_parser

.. autoapi-nested-parse::

   This module provides abstract base classes and data structures for parsing ELF files.

   Classes:
       VariableInfo: A data class representing information about a variable in an ELF file.
       ElfParser: An abstract base class for parsing ELF files and extracting variable information.

   The module is designed to be extended by specific implementations for different ELF file formats.



Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   pyx2cscope.parser.elf_parser.VariableInfo
   pyx2cscope.parser.elf_parser.ElfParser




.. py:class:: VariableInfo


   A data class representing information about a variable in an ELF file.

   Attributes:
       name (str): The name of the variable.
       type (str): The data type of the variable.
       byte_size (int): The size of the variable in bytes.
       address (int): The memory address of the variable.
       array_size (int): The size of the array if the variable is an array, default is 0.

   .. py:attribute:: name
      :type: str

      

   .. py:attribute:: type
      :type: str

      

   .. py:attribute:: byte_size
      :type: int

      

   .. py:attribute:: address
      :type: int

      

   .. py:attribute:: array_size
      :type: int
      :value: 0

      


.. py:class:: ElfParser(elf_path: str)


   Bases: :py:obj:`abc.ABC`

   Abstract base class for parsing ELF files.

   This class provides a general interface for parsing ELF files and extracting
   information about variables contained within. Subclasses should provide specific
   implementations for different types of ELF files based on the architecture.

   Attributes:
       elf_path (str): Path to the ELF file.
       dwarf_info (dict): A dictionary to store DWARF information from the ELF file.
       elf_file: An object representing the ELF file, specific to the implementation.
       variable_map (dict): A map of variable names to their corresponding information.
       var_name (str): The name of the current variable being processed.

   Methods:
       get_var_info: Return information about a specified variable.
       get_var_list: Return a list of variable names from the ELF file.
       map_variables: Map variables from the parsed DWARF information.

   .. py:method:: get_var_info(name: str) -> Optional[VariableInfo]

      Return the VariableInfo associated with a given variable name, or None if not found.

      Args:
          name (str): The name of the variable.

      Returns:
          Optional[VariableInfo]: The information of the variable, if available.


   .. py:method:: get_var_list() -> List[str]

      Return a list of all variable names available in the ELF file.

      Returns:
          List[str]: A sorted list of variable names.


   .. py:method:: map_variables() -> Dict[str, VariableInfo]

      Map variables from the parsed DWARF information and return them.

      Returns:
          Dict[str, VariableInfo]: A dictionary of variable names to VariableInfo objects.


   .. py:method:: _load_elf_file()
      :abstractmethod:

      Load the ELF file according to the specific hardware architecture.

      This method should be implemented by subclasses to handle different ELF file formats.


   .. py:method:: _map_variables() -> Dict[str, VariableInfo]
      :abstractmethod:

      Abstract method to map variables from the parsed DWARF information.

      Subclasses should implement this method to extract variable information specific to their ELF format.

      Returns:
          Dict[str, VariableInfo]: A dictionary of variable names to VariableInfo objects.



